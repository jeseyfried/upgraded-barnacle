{::nomarkdown}
</div>
{:/nomarkdown}


<div  class = "bg-multi-container" 
      style = "height: {{ include.height }}vh"
      id = "{{ include.id }}1">
  
  <div class="bg-multi" 
      style = "background-image: url('{{ site.baseurl}}/{{ include.image-url }}')"
      id = "{{ include.id }}2"></div>

  {% if include.box-content %}

    <div style="height: {{ include.pre-box-space }}vh">
      &nbsp;
    </div>

    <div class="bg-text-box">
      {{ include.box-content }}
      <div id="scrolly"></div>

    </div>

  {% endif %}
</div>

<script>
const container = document.getElementById('{{ include.id }}1');
const background = document.getElementById('{{ include.id }}2');
const scrolltext = document.getElementById('scrolly');

// Determine if an element is in the visible viewport
function isInViewport(element) {
  var rect = element.getBoundingClientRect();
  var html = document.documentElement;
  return (
    rect.top >= 0 &&
    rect.left >= 0 &&
    rect.bottom <= (window.innerHeight || html.clientHeight) &&
    rect.right <= (window.innerWidth || html.clientWidth)
  );
}

window.addEventListener('scroll', () => {
    /*const scrollPosition = window.scrollY;*/
    const bgy = container.getBoundingClientRect();
    const ypos = bgy['y'];
    text = ypos + 'test' + isInViewport(container);
    scrolltext.innerText = text;
    if (ypos > 0 ) {background.style.visibility = "hidden"} 
    else {background.style.visibility = "visible"}
    
    if (ypos < 0 && ypos > -300) {
        background.style.backgroundImage = "url('{{site.baseurl}}/assets/bg-images/image_1.jpg')";
    } else if (ypos <= -300 && ypos > -600) {
        background.style.backgroundImage = "url('{{site.baseurl}}/assets/bg-images/image_2.jpg')";
    } else if (ypos <= -600 && ypos > -900) {
        background.style.backgroundImage = "url('{{site.baseurl}}/assets/bg-images/image_3.jpg')";
    } }

);
</script>


{::nomarkdown}
<div class="container">
{:/nomarkdown}
